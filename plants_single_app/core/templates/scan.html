{% load static %}
{% include 'header2.html' %}

        <main class="main">
            <!--==================== HOME ====================-->
          
            
            <!--==================== STEPS ====================-->
            <section class="steps section container">
               
            </section>
            

            <!--==================== PRODUCTS ====================-->
            <section class="product section container" id="products">
                <h2 class="section__title-center">
                    Upload Infected Plant <br> Below
                </h2>
            
                <p class="product__description">
                    ResNet Trained on PlantVillage Dataset, Upload an image to the Django web service serving the classification model and then predict.
                </p>
<center>

</center>
            
                <center>
                  
                        <style>
                          
                            .container {
                                max-width: 600px;
                                margin: 0 auto;
                                padding: 20px;
                                background-color: #fff;
                                box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
                                border-radius: 5px;
                            }
                            h1 {
                                text-align: center;
                                color: #333;
                            }
                            .form-group {
                                margin-bottom: 15px;
                            }
                            label {
                                display: block;
                                margin-bottom: 5px;
                                color: #333;
                            }
                            textarea, input[type="file"], button {
                                width: 100%;
                                padding: 10px;
                                border: 1px solid #ccc;
                                border-radius: 4px;
                            }
                            textarea {
                                resize: vertical;
                            }
                            button {
                                background-color: #007bff;
                                color: #fff;
                                border: none;
                                cursor: pointer;
                                font-size: 16px;
                            }
                            button:hover {
                                background-color: #0056b3;
                            }
                            .predictions, .description, .uploaded-image {
                                margin-top: 20px;
                            }
                            .predictions ul {
                                list-style-type: none;
                                padding: 0;
                            }
                            .predictions li {
                                background-color: #f1f1f1;
                                margin-bottom: 5px;
                                padding: 10px;
                                border-radius: 4px;
                            }
                            .uploaded-image a {
                                color: #007bff;
                            }
                        </style>
                   
                    <body>
                        <div class="container">
                            <h1>Plant Disease Prediction</h1>
                            <form method="post" enctype="multipart/form-data">
                                {% csrf_token %}
                                <div class="form-group">
                                    <label for="description">Describe the issue with the plant</label>
                                    <textarea id="description" name="description" rows="4" required></textarea>
                                </div>
                                <div class="form-group">
                                    <label for="image">Upload an image of the plant</label>
                                    <input type="file" id="image" name="image" accept="image/*" required>
                                </div>
                                <button type="submit">Submit</button>
                            </form>
                    
                            {% if predictions %}
                                <div class="predictions">
                                    <h2>Predictions:</h2>
                                    <ul>
                                        {% for prediction in predictions %}
                                            <li>{{ prediction.pred }}</li>
                                        {% endfor %}
                                    </ul>
                                </div>
                                <div class="description">
                                    <h3>Description:</h3>
                                    <p>{{ description }}</p>
                                </div>
                                {% if url %}
                                    <div class="uploaded-image">
                                        <p>Uploaded image: <a href="{{ url }}" target="_blank">{{ url }}</a></p>
                                    </div>
                                {% endif %}
                            {% endif %}
                        </div>
                  
                    
                    
                            </center>
                        </section>
                        
                        
                    <style>
                        button {
                            padding: 0.8em 1.8em;
                            border: 2px solid #17C3B2;
                            position: relative;
                            overflow: hidden;
                            background-color: transparent;
                            text-align: center;
                            text-transform: uppercase;
                            margin-top: 50px;
                            font-size: 16px;
                            transition: .3s;
                            z-index: 1;
                            font-family: inherit;
                            color: #17C3B2;
                        }
                        button::before {
                            content: '';
                            width: 0;
                            height: 300%;
                            position: absolute;
                            top: 50%;
                            left: 50%;
                            transform: translate(-50%, -50%) rotate(45deg);
                            background: #17C3B2;
                            transition: .5s ease;
                            display: block;
                            z-index: -1;
                        }
                        button:hover::before {
                            width: 105%;
                        }
                        button:hover {
                            color: #111;
                        }
                    </style>
                    
                    <!-- <script>
                        document.getElementById('file').addEventListener('change', function(event) {
                            var reader = new FileReader();
                            reader.onload = function() {
                                var output = document.getElementById('preview');
                                output.src = reader.result;
                                output.style.display = 'block';
                            };
                            reader.readAsDataURL(event.target.files[0]);
                        });
                    
                        document.querySelector('.labelFile').addEventListener('click', function() {
                            document.getElementById('file').click();
                        });
                    </script> -->
                    
                    </body>
                    </html>
                </center>
            </section>
            
          
            
                  
                    <style>
                        .input {
                            max-width: 190px;
                            display: none;
                          }
                          
                          .labelFile {
                            display: flex;
                            flex-direction: column;
                            justify-content: center;
                            width: 250px;
                            height: 190px;
                            border: 2px dashed #ccc;
                            align-items: center;
                            text-align: center;
                            padding: 5px;
                            color: #404040;
                            cursor: pointer;
                          }
                          
                    </style>
</center>
            </section>

            <!--==================== QUESTIONS ====================-->
       <!-- faq.html -->



            <!--==================== CONTACT ====================-->
            
        </main>

        <!--==================== FOOTER ====================-->
        <footer class="footer section">
            <div class="footer__container container grid">
               
            </div>

            <p class="footer__copy">&#169; powered by plantvillage dataset</p>
        </footer>
        
        <!--=============== SCROLL UP ===============-->
        <a href="#" class="scrollup" id="scroll-up"> 
            <i class="ri-arrow-up-fill scrollup__icon"></i>
        </a>

        <!--=============== SCROLL REVEAL ===============-->
        <script src="{% static 'assets/js/scrollreveal.min.js' %}"></script>
        
        <!--=============== MAIN JS ===============-->
        <script src="{% static 'assets/js/main.js' %}"></script>
    </body>
</html>
